<section ng-init='vm.init()'>
  <div class="page-header">
    <h1>รายการส่งข้าว</h1>
  </div>
  <div class="tab-content">
    <div class="row height4">
      <div class="col-md-5">

      </div>
      <div class="col-md-5">
        <div class="input-group input-group-sm">
          <span class="input-group-addon" id="sizing-addon3"><i class="fa fa-search" aria-hidden="true"></i></span>
          <input type="text" class="form-control" placeholder="Search for order..." ng-model="topsearch" aria-describedby="sizing-addon3">
        </div>
      </div>
      <div class="col-md-2 hidden-xs hidden-sm show-md show-lg">
        <div class="textCenter">
          <a class="btn buttonCreate" ui-sref="orders.create">
            <i class="fa fa-file-o" aria-hidden="true"></i>
            <span>Create</span>
          </a>
        </div>
      </div>
    </div>
    <div class="tab-pane active" id="allActive">
      <div class="tabbable tabs-left">
        <div class="row">
          <div class="col-md-1">
            <div class="nav">
              <a href="#showAllActive" data-toggle="tab"><button class="thumbnail button buttonGreen" type="text"><span>งานใหม่</span><h3>{{vm.listOrder.length}}</h3></button></a>
              <a href="#showAllAccept" data-toggle="tab"><button class="thumbnail button buttonBlueSky" type="text"><span>ของฉัน</span><h3>{{vm.listOrderAccept.length}}</h3></button></a>
              <a href="#showAllComplete" data-toggle="tab"><button class="thumbnail button buttonDarkblue" type="text"><span>สำเร็จ</span><h3>{{vm.listOrderComplete.length}}</h3></button></a>
            </div>
          </div>
          <div class="col-md-11">
            <!--tap-->
            <div class="tab-content">
              <div class="tab-pane active" id="showAllActive">
                <div class="row">
                  <div class="col-md-12">
                    <div class="col-md-12">
                      <div class="row form-group alert alert-info">
                        <div class="col-xs-3 col-sm-3 col-md-3">
                          <strong>บิลสั่งซื้อลูกค้า</strong>
                        </div>
                        <div class="col-xs-2 col-sm-2 col-md-2">
                          <strong>รวม</strong>
                        </div>
                        <div class="col-xs-1 col-sm-1 col-md-1">
                          <strong>รับเงิน</strong>
                        </div>
                        <div class="col-xs-4 col-sm-4 col-md-4" align="center">
                          <strong>ชื่อ-ที่อยู่จัดส่ง</strong>
                        </div>
                        <div class="col-xs-1 col-sm-1 col-md-1">
                          <strong>ยอมรับ</strong>
                        </div>
                        <div class="col-xs-1 col-sm-1 col-md-1">
                          <strong>ยกเลิก</strong>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
                <div class="row hidden-xs show-sm show-md show-lg" ng-repeat="order in vm.listOrder | filter:topsearch">
                  <div class="col-md-12">
                    <div class="row form-group">
                      <div class="col-xs-3 col-sm-3 col-md-3" ui-sref="orders.view({ orderId: order._id })">
                        <img class="img-circle" src="{{order.user.profileImageURL}}" width="15%"><img width="10%">
                        <span class="list-group-item-heading" ng-bind="order.user.displayName"></span><br>
                        <img width="25%">
                        <span class="list-group-item-heading" ng-bind="order.docno"></span>
                        <i class="fa fa-user text-info" aria-hidden="true" ng-show="order.deliverystatus === 'accept' && order.delivery.deliveryid === '0'"></i>
                        <i class="fa fa-user text-danger" aria-hidden="true" ng-show="order.deliverystatus === 'reject' && !order.namedeliver.displayName && (!order.delivery.deliveryid || order.delivery.deliveryid === '0')"></i>
                        <i class="fa fa-user text-default" aria-hidden="true" ng-show="order.delivery.deliveryid === '0' && !order.namedeliver.displayName  && (!order.deliverystatus || !order.deliverystatus === 'reject')"></i>
                        <i class="fa fa-user text-warning" aria-hidden="true" ng-show="order.delivery.deliveryid === '0' && order.namedeliver.displayName && (!order.deliverystatus || !order.deliverystatus === 'accept' || order.deliverystatus === 'reject')"></i>
                        <i class="fa fa-envelope text-info" aria-hidden="true" ng-show="order.delivery.deliveryid === '1' && order.deliverystatus === 'accept'"></i>
                        <i class="fa fa-envelope text-warning" aria-hidden="true" ng-show="order.delivery.deliveryid === '1' && (!order.deliverystatus || !order.deliverystatus === 'accept')"></i>
                      </div>
                      <div class="col-xs-2 col-sm-2 col-md-2" ui-sref="orders.view({ orderId: order._id })">
                        <p class="list-group-item-heading" ng-bind="order.totalamount | number:2"></p>
                      </div>
                      <div class="col-xs-1 col-sm-1 col-md-1" ui-sref="orders.view({ orderId: order._id })">
                        <p class="list-group-item-heading">-</p>
                      </div>
                      <div class="col-xs-4 col-sm-4 col-md-4" ui-sref="orders.view({ orderId: order._id })" align="center">
                        <p class="list-group-item-heading dotpy" ng-bind="order.shipping.address + ' ' + order.shipping.subdistrict + ' ' + order.shipping.district + ' ' + order.shipping.province  + ' ' + order.shipping.postcode"></p>
                      </div>
                      <div class="col-xs-1 col-sm-1 col-md-1">
                        <button type="button" class="btn buttonGreenForm" ng-click="vm.accept(order)"><span class="glyphicon glyphicon-check"></span></button>
                      </div>
                      <div class="col-xs-1 col-sm-1 col-md-1">
                        <button type="button" class="btn buttonRedForm" ng-click="vm.reject(order)"><span class="glyphicon glyphicon-trash"></span></button>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
              <div class="tab-pane" id="showAllAccept">
                <div class="row">
                  <div class="col-md-12">
                    <div class="col-md-12">
                      <div class="row form-group alert alert-info">
                        <div class="col-xs-3 col-sm-3 col-md-3">
                          <strong>บิลสั่งซื้อลูกค้า</strong>
                        </div>
                        <div class="col-xs-2 col-sm-2 col-md-2">
                          <strong>รวม</strong>
                        </div>
                        <div class="col-xs-1 col-sm-1 col-md-1">
                          <strong>รับเงิน</strong>
                        </div>
                        <div class="col-xs-4 col-sm-4 col-md-4" align="center">
                          <strong>ชื่อ-ที่อยู่จัดส่ง</strong>
                        </div>
                        <div class="col-xs-1 col-sm-1 col-md-1">
                          <strong>จัดส่ง</strong>
                        </div>
                        <div class="col-xs-1 col-sm-1 col-md-1">
                          <strong>สำเร็จ</strong>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
                <div class="row hidden-xs show-sm show-md show-lg" ng-repeat="order in vm.listOrderAccept | filter:topsearch">
                  <div class="col-md-12">
                    <div class="row form-group">
                      <div class="col-xs-3 col-sm-3 col-md-3" ui-sref="orders.view({ orderId: order._id })">
                        <img class="img-circle" src="{{order.user.profileImageURL}}" width="15%"><img width="10%">
                        <span class="list-group-item-heading" ng-bind="order.user.displayName"></span><br>
                        <img width="25%">
                        <span class="list-group-item-heading" ng-bind="order.docno"></span>
                      </div>
                      <div class="col-xs-2 col-sm-2 col-md-2" ui-sref="orders.view({ orderId: order._id })">
                        <p class="list-group-item-heading" ng-bind="order.totalamount | number:2"></p>
                      </div>
                      <div class="col-xs-1 col-sm-1 col-md-1" ui-sref="orders.view({ orderId: order._id })">
                        <p class="list-group-item-heading">-</p>
                      </div>
                      <div class="col-xs-4 col-sm-4 col-md-4" ui-sref="orders.view({ orderId: order._id })" align="center">
                        <p class="list-group-item-heading dotpy" ng-bind="order.shipping.address + ' ' + order.shipping.subdistrict + ' ' + order.shipping.district + ' ' + order.shipping.province  + ' ' + order.shipping.postcode"></p>
                      </div>
                      <div class="col-xs-1 col-sm-1 col-md-1" ui-sref="orders.view({ orderId: order._id })">
                        <i class="fa fa-truck fa-2x" aria-hidden="true"></i>
                      </div>
                      <div class="col-xs-1 col-sm-1 col-md-1">
                        <button type="button" class="btn btn-info" ng-click="vm.complete(order)"><span class="glyphicon glyphicon-check"></span></button>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
              <div class="tab-pane" id="showAllComplete">
                <div class="row">
                  <div class="col-md-12">
                    <div class="col-md-12">
                      <div class="row form-group alert alert-info">
                        <div class="col-xs-3 col-sm-3 col-md-3">
                          <strong>บิลสั่งซื้อลูกค้า</strong>
                        </div>
                        <div class="col-xs-2 col-sm-2 col-md-2">
                          <strong>รวม</strong>
                        </div>
                        <div class="col-xs-1 col-sm-1 col-md-1">
                          <strong>รับเงิน</strong>
                        </div>
                        <div class="col-xs-4 col-sm-4 col-md-4" align="center">
                          <strong>ชื่อ-ที่อยู่จัดส่ง</strong>
                        </div>
                        <div class="col-xs-2 col-sm-2 col-md-2" align="center">
                          <strong>วันที่</strong>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
                <div class="row hidden-xs show-sm show-md show-lg" ng-repeat="order in vm.listOrderComplete | filter:topsearch" ui-sref="orders.view({ orderId: order._id })">
                  <div class="col-md-12">
                    <div class="row form-group">
                      <div class="col-xs-3 col-sm-3 col-md-3">
                        <img class="img-circle" src="{{order.user.profileImageURL}}" width="15%"><img width="10%">
                        <span class="list-group-item-heading" ng-bind="order.user.displayName"></span><br>
                        <img width="25%">
                        <span class="list-group-item-heading" ng-bind="order.docno"></span>
                      </div>
                      <div class="col-xs-2 col-sm-2 col-md-2">
                        <p class="list-group-item-heading" ng-bind="order.totalamount | number:2"></p>
                      </div>
                      <div class="col-xs-1 col-sm-1 col-md-1">
                        <p class="list-group-item-heading" ng-bind="order.totalamount | number:2"></p>
                      </div>
                      <div class="col-xs-4 col-sm-4 col-md-4" align="center">
                        <p class="list-group-item-heading dotpy" ng-bind="order.shipping.address + ' ' + order.shipping.subdistrict + ' ' + order.shipping.district + ' ' + order.shipping.province  + ' ' + order.shipping.postcode"></p>
                      </div>
                      <div class="col-xs-2 col-sm-2 col-md-2">
                        <p class="list-group-item-heading" ng-bind="order.created | date:'dd/MM/yyyy:HH:mm'"></p>
                      </div>

                    </div>
                  </div>
                </div>
              </div>

            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>